(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(48)},40:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(38),n(40);var i=n(5),l=n(6),u=n(8),s=n(7),d=n(9),m=n(50),f=n(51),p=n(52),h=n(49),b=n(11),y=n(12);function v(){var e=Object(b.a)(["\n  display: block;\n  width: 300px;\n  height: 200px;\n"]);return v=function(){return e},e}function g(){var e=Object(b.a)(["\n  height: 100vh;\n  background: #5D2477\n  background: -webkit-radial-gradient(bottom right, #5D2477, #10054C)\n  background: -moz-radial-gradient(bottom right, #5D2477, #10054C)\n  background: radial-gradient(bottom right, #5D2477, #10054C)\n"]);return g=function(){return e},e}function E(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]);return E=function(){return e},e}function O(){var e=Object(b.a)(["\n  font-size: 1.5em;\n  text-align: center;\n  color: #fff;\n"]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n  list-style-type: none;\n"]);return j=function(){return e},e}function w(){var e=Object(b.a)(["\n  font-size: 1.5em;\n  text-align: center;\n  color: palevioletred;\n"]);return w=function(){return e},e}y.a.h2(w());var k=y.a.ul(j()),C=y.a.li(O()),D=y.a.div(E()),_=y.a.div(g()),S=y.a.form(v()),x=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={login:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"checkUser",value:function(e){e.preventDefault();var t=document.getElementById("form__user"),n=document.getElementById("form__password");"user"==t.value&&"12345"==n.value&&this.setState({login:!0})}},{key:"render",value:function(){return this.state.login?r.a.createElement(h.a,{to:"/weather"}):r.a.createElement(_,null,r.a.createElement(D,null,r.a.createElement("h1",null,"Welcome to Weather Data!"),r.a.createElement(S,{action:"",onSubmit:this.checkUser.bind(this),id:"form"},r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("input",{type:"text",id:"form__user",className:"input",placeholder:"username",autoFocus:!0,required:!0})),r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("input",{type:"password",id:"form__password",className:"input",placeholder:"password",required:!0})),r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("button",{className:"button",type:"submit"},"login")))))}}]),t}(a.Component),N=n(13),A=function(e,t){return{type:"ADD_CITY",id:e,city:t,temprature:""}},I=function(){return{type:"REMOVE_CITY"}},T=function(e){return{type:"TOGGLE_DELETE",id:e}},W=function(e,t){return{type:"SET_WEATHER",id:e,value:Math.round(10*t)/10+" \xb0C"}},L=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={id:Date.now().toString()},n.setWeather=function(e,t){var a="&type=like&APPID=".concat("8c6b34946a9936a4f503e2797bfc6840");fetch("".concat("https://api.openweathermap.org/data/2.5/find?q=").concat(t).concat(a)).then(function(e){return e.json()}).then(function(t){return n.props.onSetWeather(e,t.list[0].main.temp-273.15)}).catch(function(e){return console.log(e)})},n.addCity=function(){var e=document.getElementById("addCity__input");/^[a-zA-Z]+$/.test(e.value)?(n.props.onAddCity(n.state.id,e.value),n.setWeather(n.state.id,e.value),e.value="",n.setState({id:Date.now().toString()})):e.value="Please write only english letters"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("addCity__input");e.addEventListener("click",function(t){e.value="",t.preventDefault()})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add new city"),r.a.createElement("div",{className:"flex-center-center flex-column "},r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("input",{type:"text",id:"addCity__input",className:"input",autoFocus:!0})),r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("button",{className:"button",onClick:this.addCity},"Add"))))}}]),t}(a.Component);var R=Object(N.b)(null,function(e){return{onAddCity:function(t,n){e(A(t,n))},onSetWeather:function(t,n){e(W(t,n))}}})(L),B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).toggle=function(e){var t=e.target;"LI"===t.tagName&&n.props.onToggleShouldDelete(t.getAttribute("data-key"))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Your weather data:"),r.a.createElement(k,{onClick:this.toggle,id:"weather__ul"},this.props.localState.length?this.props.localState.map(function(e,t){return r.a.createElement(C,{key:t,"data-key":e.id,style:{textDecoration:e.shouldDelete?"line-through":"none"}},e.temprature?e.city+" "+e.temprature:"Sorry, cannot find weather for "+e.city)}):r.a.createElement("p",{className:"description"},"Add your first city!",r.a.createElement("br",null),'For example: "London", "Rome", "Moscow"')),r.a.createElement("div",{className:"flex-center-center"},r.a.createElement("button",{className:"button",onClick:this.props.onRemoveCity},"Save changes")))}}]),t}(a.Component);var F=Object(N.b)(function(e){return{localState:e}},function(e){return{onRemoveCity:function(){e(I())},onToggleShouldDelete:function(t){e(T(t))}}})(B),M=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null,r.a.createElement(R,null),r.a.createElement(F,null)))}}]),t}(a.Component),Y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:x}),r.a.createElement(p.a,{path:"/weather",component:M})))}}]),t}(a.Component),z=n(17),G=n(22),J=n(30),q=[];localStorage.getItem("city")&&(q=JSON.parse(localStorage.getItem("city")));var P=Object(z.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return"ADD_CITY"===t.type?Object(J.a)(e).concat([{id:t.id,city:t.city,temprature:t.temprature,shouldDelete:!1}]):"SET_WEATHER"===t.type?e.map(function(e){return e.id==t.id?Object(G.a)({},e,{temprature:t.value}):e}):"TOGGLE_DELETE"===t.type?e.map(function(e){return e.id==t.id?Object(G.a)({},e,{shouldDelete:!e.shouldDelete}):e}):"REMOVE_CITY"===t.type?e.filter(function(e){return!1===e.shouldDelete}):e});P.subscribe(function(){console.log(P.getState()),localStorage.setItem("city",JSON.stringify(P.getState()))}),o.a.render(r.a.createElement(N.a,{store:P},r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.e77607da.chunk.js.map